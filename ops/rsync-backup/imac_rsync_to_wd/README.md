README

# 我建议你在 iMac 上的默认选择
日常：Mode A（镜像）
重要资料/怕误删：Mode B（快照）
每次改脚本/改 excludes/改目录结构后：先 Mode C（dry-run）跑一遍


# Mode A：镜像同步（最快、最省心，适合日常）
适用场景：你只想外置盘上永远是“最新一份”，不太需要找回“被误删/被覆盖的旧版本”。
目标：DEST 始终长得像 SRC
风险：如果 SRC 误删文件，DEST 也会被删除（因为 --delete）

DEST="${DEST_BASE}/mirror"
mkdir -p "$DEST"

rsync "${RSYNC_BASE[@]}" \
  --delete \
  --dry-run）\
  --log-file="$LOG" \
  "$SRC" "$DEST"

# Mode B：版本快照（可回滚，适合重要资料）
适用场景：你最怕“误删/误覆盖”，希望能回到昨天/上周的状态；同时又不想每次全量复制占爆空间。
这里给你 rsync 的经典“硬链接快照增量”（--link-dest）：
每次生成一个新快照目录：snapshots/2026-01-17_1830/
未变化的文件用硬链接指向上一份快照（节省空间）
变化的文件才真实占用新增空间


# Mode C：审计/排障模式（不写入或只做变化清单）
适用场景：你不确定这次会发生什么（尤其担心 --delete），或者你在排查“为什么 iMac 上跑得慢/权限报错/目录层级不对”。
